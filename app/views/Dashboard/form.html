#{extends 'main.html' /}

<h3>Write a new recipe</h3>

#{form @save()}

#{ifErrors}
<p class="error">
    Please correct these errors.
</p>
#{/ifErrors}

<p>
    #{field 'title'}
    <label>Recipe title:</label>
    <input type="text" name="${field.name}"
           value="${recipe?.title}" />
    <span class="error">#{error 'recipe.title' /}</span>
    #{/field}
</p>

<p>
    #{field 'content'}
    <label>Write here:</label>
    <textarea name="${field.name}">${recipe?.content}</textarea>
    <span class="error">#{error 'recipe.content' /}</span>
    #{/field}
</p>

<p>
    #{field 'tags'}
    <label>Enter some tags:</label>
    <input type="text" size="50"
           name="${field.name}" value="${post?.tags?.join(' ')}" />
    #{/field}
</p>

<p>
    <input type="submit" value="Publish this post to the blog" />
</p>

#{/form}